{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { dequal } from 'dequal/lite';\nimport Cache from './cache';\nimport webPreset from './libs/web-preset'; // cache\n\nvar cache = new Cache(); // error retry\n\nfunction onErrorRetry(_, __, config, revalidate, opts) {\n  if (!config.isDocumentVisible()) {\n    // if it's hidden, stop\n    // it will auto revalidate when focus\n    return;\n  }\n\n  if (typeof config.errorRetryCount === 'number' && opts.retryCount > config.errorRetryCount) {\n    return;\n  } // exponential backoff\n\n\n  var count = Math.min(opts.retryCount, 8);\n  var timeout = ~~((Math.random() + 0.5) * (1 << count)) * config.errorRetryInterval;\n  setTimeout(revalidate, timeout, opts);\n} // client side: need to adjust the config\n// based on the browser status\n// slow connection (<= 70Kbps)\n\n\nvar slowConnection = typeof window !== 'undefined' && // @ts-ignore\nnavigator['connection'] && // @ts-ignore\n['slow-2g', '2g'].indexOf(navigator['connection'].effectiveType) !== -1; // config\n\nvar defaultConfig = __assign({\n  // events\n  onLoadingSlow: function () {},\n  onSuccess: function () {},\n  onError: function () {},\n  onErrorRetry: onErrorRetry,\n  errorRetryInterval: (slowConnection ? 10 : 5) * 1000,\n  focusThrottleInterval: 5 * 1000,\n  dedupingInterval: 2 * 1000,\n  loadingTimeout: (slowConnection ? 5 : 3) * 1000,\n  refreshInterval: 0,\n  revalidateOnFocus: true,\n  revalidateOnReconnect: true,\n  refreshWhenHidden: false,\n  refreshWhenOffline: false,\n  shouldRetryOnError: true,\n  suspense: false,\n  compare: dequal,\n  isPaused: function () {\n    return false;\n  }\n}, webPreset);\n\nexport { cache };\nexport default defaultConfig;","map":{"version":3,"sources":["/Users/jshahcodes/projects/photopie/photo-pie/node_modules/swr/esm/config.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","dequal","Cache","webPreset","cache","onErrorRetry","_","__","config","revalidate","opts","isDocumentVisible","errorRetryCount","retryCount","count","Math","min","timeout","random","errorRetryInterval","setTimeout","slowConnection","window","navigator","indexOf","effectiveType","defaultConfig","onLoadingSlow","onSuccess","onError","focusThrottleInterval","dedupingInterval","loadingTimeout","refreshInterval","revalidateOnFocus","revalidateOnReconnect","refreshWhenHidden","refreshWhenOffline","shouldRetryOnError","suspense","compare","isPaused"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { dequal } from 'dequal/lite';\nimport Cache from './cache';\nimport webPreset from './libs/web-preset';\n// cache\nvar cache = new Cache();\n// error retry\nfunction onErrorRetry(_, __, config, revalidate, opts) {\n    if (!config.isDocumentVisible()) {\n        // if it's hidden, stop\n        // it will auto revalidate when focus\n        return;\n    }\n    if (typeof config.errorRetryCount === 'number' &&\n        opts.retryCount > config.errorRetryCount) {\n        return;\n    }\n    // exponential backoff\n    var count = Math.min(opts.retryCount, 8);\n    var timeout = ~~((Math.random() + 0.5) * (1 << count)) * config.errorRetryInterval;\n    setTimeout(revalidate, timeout, opts);\n}\n// client side: need to adjust the config\n// based on the browser status\n// slow connection (<= 70Kbps)\nvar slowConnection = typeof window !== 'undefined' &&\n    // @ts-ignore\n    navigator['connection'] &&\n    // @ts-ignore\n    ['slow-2g', '2g'].indexOf(navigator['connection'].effectiveType) !== -1;\n// config\nvar defaultConfig = __assign({ \n    // events\n    onLoadingSlow: function () { }, onSuccess: function () { }, onError: function () { }, onErrorRetry: onErrorRetry, errorRetryInterval: (slowConnection ? 10 : 5) * 1000, focusThrottleInterval: 5 * 1000, dedupingInterval: 2 * 1000, loadingTimeout: (slowConnection ? 5 : 3) * 1000, refreshInterval: 0, revalidateOnFocus: true, revalidateOnReconnect: true, refreshWhenHidden: false, refreshWhenOffline: false, shouldRetryOnError: true, suspense: false, compare: dequal, isPaused: function () { return false; } }, webPreset);\nexport { cache };\nexport default defaultConfig;\n"]},"metadata":{},"sourceType":"module"}