{"ast":null,"code":"import _slicedToArray from\"/Users/jshahcodes/projects/photopie-vercel/photopi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,memo,useEffect,useCallback}from'react';import'./Home.css';import useSWR from'swr';import Image from'../atoms/Image';import FlexTemplate from'../templates/FlexTemplate';import Card from'../molecules/Card';import Loader from'../atoms/Loader';import NavBar from'../atoms/NavBar';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=/*#__PURE__*/memo(function(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),newData=_useState2[0],changeData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),urlFetch=_useState4[0],changeURLFetch=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),searchString=_useState6[0],ChangeSearchString=_useState6[1];var CLIENT_ID=process.env.REACT_APP_API_KEY;var URL=\"https://api.unsplash.com/photos?page=1&per_page=30&client_id=\".concat(CLIENT_ID);var SearchUrl=\"https://api.unsplash.com/search/photos?page=1&per_page=90&query=\".concat(searchString,\"&client_id=\").concat(CLIENT_ID);//fetch a certain url based on the requirements\nvar _useSWR=useSWR(urlFetch?SearchUrl:URL,{refreshInterval:1000*360*30}),data=_useSWR.data;//callback  from the child to get the search string \nvar clbck=useCallback(function(searchString){changeURLFetch(true);ChangeSearchString(searchString);},[searchString]);//use effect to check the data\nuseEffect(function(){changeData(data);},[data,changeURLFetch]);//show a loader if there is no data available\nif(!data){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{dataToGet:clbck}),/*#__PURE__*/_jsx(Loader,{})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{dataToGet:clbck}),/*#__PURE__*/_jsx(FlexTemplate,{children:data&&urlFetch?newData===null||newData===void 0?void 0:newData.results.map(function(i){return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Image,{href:i.urls.regular,height:300,width:300,downloadHref:i.links.download})});}):newData===null||newData===void 0?void 0:newData.map(function(i){return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Image,{href:i.urls.regular,height:300,width:300,downloadHref:i.links.download})});})})]});});export default/*#__PURE__*/memo(Home);","map":{"version":3,"sources":["/Users/jshahcodes/projects/photopie-vercel/photopi/src/pages/Home.tsx"],"names":["useState","memo","useEffect","useCallback","useSWR","Image","FlexTemplate","Card","Loader","NavBar","Home","newData","changeData","urlFetch","changeURLFetch","searchString","ChangeSearchString","CLIENT_ID","process","env","REACT_APP_API_KEY","URL","SearchUrl","refreshInterval","data","clbck","results","map","i","urls","regular","links","download"],"mappings":"yKAAA,OAAQA,QAAR,CAAiBC,IAAjB,CAAsBC,SAAtB,CAAgCC,WAAhC,KAAkD,OAAlD,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,KAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2BAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,C,6IAGA,GAAMC,CAAAA,IAAI,cAAGT,IAAI,CAAC,UAAI,eACOD,QAAQ,CAAM,EAAN,CADf,wCACbW,OADa,eACLC,UADK,8BAEYZ,QAAQ,CAAU,KAAV,CAFpB,yCAEba,QAFa,eAEJC,cAFI,8BAGoBd,QAAQ,EAH5B,yCAGbe,YAHa,eAGAC,kBAHA,eAIlB,GAAMC,CAAAA,SAAS,CAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA9B,CACA,GAAMC,CAAAA,GAAG,wEAAmEJ,SAAnE,CAAT,CACA,GAAMK,CAAAA,SAAS,2EAAoEP,YAApE,uBAA8FE,SAA9F,CAAf,CAEA;AARkB,YASHb,MAAM,CAACS,QAAQ,CAACS,SAAD,CAAWD,GAApB,CAAwB,CACzCE,eAAe,CAAE,KAAO,GAAP,CAAY,EADY,CAAxB,CATH,CASXC,IATW,SASXA,IATW,CAatB;AACM,GAAMC,CAAAA,KAAK,CAACtB,WAAW,CAAC,SAACY,YAAD,CAAuB,CAC7CD,cAAc,CAAC,IAAD,CAAd,CACAE,kBAAkB,CAACD,YAAD,CAAlB,CACD,CAHsB,CAGrB,CAACA,YAAD,CAHqB,CAAvB,CAKA;AACFb,SAAS,CAAC,UAAI,CACXU,UAAU,CAACY,IAAD,CAAV,CACE,CAFI,CAEH,CAACA,IAAD,CAAMV,cAAN,CAFG,CAAT,CAIJ;AACI,GAAG,CAACU,IAAJ,CAAS,CACH,mBAAQ,wCACP,KAAC,MAAD,EAAQ,SAAS,CAAEC,KAAnB,EADO,cAER,KAAC,MAAD,IAFQ,GAAR,CAGD,CAET,mBACE,wCACD,KAAC,MAAD,EAAS,SAAS,CAAEA,KAApB,EADC,cAEF,KAAC,YAAD,WACCD,IAAI,EAAIX,QAAR,CAAkBF,OAAlB,SAAkBA,OAAlB,iBAAkBA,OAAO,CAAEe,OAAT,CAAiBC,GAAjB,CAAqB,SAACC,CAAD,qBACpC,KAAC,IAAD,wBACA,KAAC,KAAD,EAAO,IAAI,CAAEA,CAAC,CAACC,IAAF,CAAOC,OAApB,CAA6B,MAAM,CAAE,GAArC,CAA0C,KAAK,CAAE,GAAjD,CAAsD,YAAY,CAAEF,CAAC,CAACG,KAAF,CAAQC,QAA5E,EADA,EADoC,EAArB,CAAlB,CAIErB,OAJF,SAIEA,OAJF,iBAIEA,OAAO,CAAEgB,GAAT,CAAa,SAACC,CAAD,qBACd,KAAC,IAAD,wBACA,KAAC,KAAD,EAAO,IAAI,CAAEA,CAAC,CAACC,IAAF,CAAOC,OAApB,CAA6B,MAAM,CAAE,GAArC,CAA0C,KAAK,CAAE,GAAjD,CAAsD,YAAY,CAAEF,CAAC,CAACG,KAAF,CAAQC,QAA5E,EADA,EADc,EAAb,CALH,EAFE,GADF,CAeC,CA9CgB,CAAjB,CA+CA,2BAAe/B,IAAI,CAACS,IAAD,CAAnB","sourcesContent":["import {useState,memo,useEffect,useCallback} from 'react'\nimport './Home.css'\nimport useSWR from 'swr';\nimport Image from '../atoms/Image';\nimport FlexTemplate from '../templates/FlexTemplate';\nimport Card from '../molecules/Card';\nimport Loader from '../atoms/Loader';\nimport NavBar from '../atoms/NavBar';\n\n\nconst Home = memo(()=>{\n  const [newData,changeData]=useState<any>([]);\n  const [urlFetch,changeURLFetch]=useState<boolean>(false);\n  const [searchString,ChangeSearchString]=useState<string>();\n    const CLIENT_ID = process.env.REACT_APP_API_KEY;\n    const URL = `https://api.unsplash.com/photos?page=1&per_page=30&client_id=${CLIENT_ID}`\n    const SearchUrl=`https://api.unsplash.com/search/photos?page=1&per_page=90&query=${searchString}&client_id=${CLIENT_ID}`\n\n    //fetch a certain url based on the requirements\n    const {data} = useSWR(urlFetch?SearchUrl:URL,{\n        refreshInterval: 1000 * 360 *30, \n      });\n\n//callback  from the child to get the search string \n      const clbck=useCallback((searchString:string)=>{\n        changeURLFetch(true);\n        ChangeSearchString(searchString);\n      },[searchString])\n\n      //use effect to check the data\n    useEffect(()=>{\n       changeData(data);\n        },[data,changeURLFetch]) \n\n//show a loader if there is no data available\n    if(!data){\n          return (<>\n           <NavBar dataToGet={clbck}/>\n          <Loader/></>)\n        }\n\nreturn(\n  <>\n <NavBar  dataToGet={clbck}/>\n<FlexTemplate>\n{data && urlFetch ?newData?.results.map((i: { urls: { regular: string; }; links: { download: string | undefined; }; })=>(\n    <Card>\n    <Image href={i.urls.regular} height={300} width={300} downloadHref={i.links.download}/>\n    </Card>\n)):newData?.map((i: { urls: { regular: string; }; links: { download: string | undefined; }; })=>(\n  <Card>\n  <Image href={i.urls.regular} height={300} width={300} downloadHref={i.links.download}/>\n  </Card>))}\n</FlexTemplate>\n</>\n);\n})\nexport default memo(Home);"]},"metadata":{},"sourceType":"module"}